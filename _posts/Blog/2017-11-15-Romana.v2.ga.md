---
layout: post
title: Romana v2.0 Available Today
categories:
- blog
permalink: /blog/romana-v2/
---

Today, we are happy to release [Romana v2.0](https://github.com/romana/romana) for general availability. It includes important architectural advances that increase deployment flexibility and simplify operations. Romana v2.0 was available in a preview release for over three months and has gone through extensive testing. During that time, it has proven to be stable and scalable for production deployments on hundreds of nodes in EC2, as well as in datacenters with complex multi-network topologies.

Romana v2.0 includes new topology aware IP address management and network advertisement for deployment in routed networks. 

### Topology Aware IPAM and Network Advertisement 

Fundamental to Romana is intelligent IP address management that lets real network CIDRs define isolation boundaries for microsegmentation.  This has numerous advantages including eliminating overlays and the ability to use route aggregation to minimize network updates, which enables higher performance and simpler, more secure operations.

Maintaining address boundaries is also important for integration with legacy security infrastructure since most enterprise still rely on VLAN segmentation.

Romana v1.x IPAM provided simple IP address allocation, which in some circumstances could result in inefficient use of addresses. Topology aware IPAM lets operators capture network topology so that Kubernetes has the flexibility it needs to schedule pods anywhere on the network, even across different subnets, without requiring additional route updates.

### Network advertisement

With address prefixes set by network topology, upstream network devices are easily configured by announcing only the prefixes. Not only is this very fast and efficient, new endpoints are immediately reachable without requiring additional network updates. Defining networks in this way also allow routes to be filtering for a more secure network.

Romana v2.0 supports both BGP and OSPF protocols for network advertisement.

_Network advertisement in EC2_

For network advertisement in EC2, Romana v2.0 updates the VPC route table directly via the API in a manner similar to kubnet's EC2 cloud provider function. This lets applications use native VPC networking, avoid an overlay and deliver the highest network performance possible.

In addition, unlike kubnet, Romana aggregates routes. This means that large clusters can be built without running out of VPC routes. Romana v2.0 configures Kubernetes nodes to forward traffic to other nodes, effectively turning them into routers. More details are available [here](/deploy_romana/public_cloud/).

![AWS VPC Availability Zones]({{ site.baseurl }}/images/VPCZones.51.png)

Romana performs healthchecks and configures a failover route on instance failure. Robust routing with automatic failover allows users to confidently build HA clusters across availability zones that use native VPC networking.

Together, these new features enable native VPC networking on clusters of any size deployed on one or more zones.

### Romana IPs and Romana DNS

Kubernetes users that need to expose their services outside a cluster rely on [ExternalIPs](https://kubernetes.io/docs/concepts/services-networking/service/#external-ips). These IPs represent a single point of failure and when there are many to configure, can be tedious and error prone. 

[Romana IPs](https://github.com/romana/romana/wiki/RomanaIPs) are defined by an annotation in a service spec. Romana then automatically brings up that IP on a node. Romana chooses a node with a pod running locally to avoid kubeproxy forwarding. When a node fails, Romana will bring up the Romana IP on a new node, providing failover for external services.

Romana IPs are especially useful for exposing services containing only one pod where a stable IP is required, such as Cassandras and other Big Data applications. Romana IPs work in conjunction with [Romana DNS](https://github.com/romana/romanadns), which can be deployed as a service discovery mechanism for individual pods.

### Romana v2.0 available now

Romana v2.0 is available today, [here](https://github.com/romana/romana/) on GitHub. See release notes for details on supported capabilities and configurations.
