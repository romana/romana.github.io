---
layout: post
title: Romana Network Services Platform
date: 2015-10-15
categories: 
- cloudnative

---
[Introduction](#introduction)  
[Romana Overview](#romana-overview)  


## Introduction
Romana is an open source network orchestration and management solution that lets operators deploy scalable, multi-tenant networks that are less expensive to build, easier to operate and deliver higher performance than overlay-based virtual networks. Unlike existing multi-tenant network architectures that rely on overlays, Romana lets data center operators design and deploy cloud computing networks directly on physical infrastructure. 

Central to Romana is a new layer 3 based tenancy model that is intuitive and easy to deploy across hosts, racks, datacenters and the WAN. In addition, it supports advanced service insertion and chaining capabilities that enable policy-based control of all network traffic and allows container orchestrations systems to transparently scale capacity across private and public clouds worldwide.

---

## Romana Overview

### Romana Addressing
Central to Romana's approach to simplify cloud computing networks is the introduction of a new L3 based tenancy model. L2 VLAN based tenancy models, while simple and fast, are limited in scale. Overlay networks address the scalability problem, but introduce significant complexity and adversely impact performance and manageability. Like other efforts that provide L3 tenant isolation, Romana's L3 tenancy model enforces isolation on the host by configuring Access Control Lists (ACLs) either directly with iptables, or indirectly through Open vSwitch.

However, unlike these other L3 approaches, ACLs are applied at a segment level, not a VM level. This has the advantage of requiring only one ACL per segment vs. one rule per VM. This dramatically simplifies configuration and improves performance.

Romana achieves this L3 based, segment level isolation through intelligent assignment of IP addresses. By imbedding a unique segment identifier into the IP address of the VM the host can apply an ACL for an entire segment simply by allowing or denying access to the segment.

Cloud data center networking is further simplified by aggregating routes to all VMs into a single route to the host. This is achieved by assigning to each host its own network ID out of a full 10/8 CIDR block. The results in a L3 datacenter access design that is trivially simple, where physical infrastructure can be configured and maintained without complex routing protocols, controllers or overlays.

IP addresses for individual VM are generated by the Romana IPAM system which specifies values for the physical host that is running the VM (Host Network ID, or simply Host ID), a Segment ID and a VM ID. Together, these fields, along with the 10/8 network ID bits make up the full 32 bit IPv4 IP address.

For example, the illustration below shows how an IP address would be generated and assigned to a VM running on host where the system was built out to accommodate up to 64 hosts, 32K isolated segments with a maximum of 8 VM per segment on each host.

![Address Example](AddressingExample.png)

The length of the Host ID, Segment ID and VM ID are all configurable via the Romana Cloud Designer which allows for a variety of cloud tenancy options. The table below illustrates how allocating more bits to the Host ID would increase the number of supported hosts, but reduce the total number of isolated segments. 

![Bit Allocation](BitAllocation.png)

The Romana Designer allows each of these fields to be set and calculates the limits of the various aspects of the cloud network design.



